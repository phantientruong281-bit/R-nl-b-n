
<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Snake Game</title>

<style>
body{
 margin:0;
 background:#0b0b0b;
 color:white;
 text-align:center;
 font-family:Arial;
 overflow:hidden;
}

h2{color:#00ff99;margin:8px;}
#score{font-size:22px;}

canvas{
 background:#000;
 border-radius:16px;
 box-shadow:0 0 25px #00ff99;
 display:block;
 margin:10px auto;
}

#controls{
 position:fixed;
 bottom:20px;
 width:100%;
}

#controls button{
 font-size:32px;
 margin:6px;
 padding:18px 24px;
 border-radius:18px;
 border:none;
 background:#00c853;
 color:white;
}

#controls button:active{background:#009624;}

#gameOver{
 position:fixed;
 top:0;
 left:0;
 width:100%;
 height:100%;
 background:rgba(0,0,0,0.85);
 display:none;
 flex-direction:column;
 align-items:center;
 justify-content:center;
 font-size:42px;
}

#gameOver button{
 background:#ff5252;
 border:none;
 padding:18px 36px;
 border-radius:20px;
 font-size:26px;
 color:white;
 margin-top:20px;
}
</style>
</head>

<body>
<h2>üêç R·∫Øn l√† bn,ko ph·∫£i t√¥i</h2>
<div id="score">ƒêi·ªÉm: 0</div>
<canvas id="game"></canvas>

<div id="controls">
<button onclick="setDir('up')">‚¨Ü</button><br>
<button onclick="setDir('left')">‚¨Ö</button>
<button onclick="setDir('down')">‚¨á</button>
<button onclick="setDir('right')">‚û°</button>
</div>

<div id="gameOver">
üíÄ THUA TH√å N√çN
<button onclick="restart()">üîÑ Ch∆°i l·∫°i</button>
</div>

<audio id="eat" src="https://assets.mixkit.co/sfx/preview/mixkit-arcade-game-jump-coin-216.wav"></audio>
<audio id="bgm" src="https://assets.mixkit.co/music/preview/mixkit-game-level-music-689.mp3" loop></audio>
<audio id="over" src="https://assets.mixkit.co/sfx/preview/mixkit-player-losing-or-failing-2042.wav"></audio>

<script>
const c=document.getElementById("game");
const ctx=c.getContext("2d");

function resize(){
 c.width=window.innerWidth;
 c.height=window.innerHeight-220;
}
resize();
window.onresize=resize;

let size=20;
let snake=[{x:100,y:100}];
let food=randomFood();
let dir=null;
let game=null;
let score=0;

function randomFood(){
 return{
  x:Math.floor(Math.random()*(c.width/size))*size,
  y:Math.floor(Math.random()*(c.height/size))*size
 }
}

function start(){
 if(!game) game=setInterval(loop,110);

 let bgm=document.getElementById("bgm");
 bgm.volume=0.5;
 bgm.play().catch(()=>{});
}

function setDir(d){
 dir=d;
 start();
}

function loop(){
 if(!dir) return;

 let h={...snake[0]};
 if(dir=="up") h.y-=size;
 if(dir=="down") h.y+=size;
 if(dir=="left") h.x-=size;
 if(dir=="right") h.x+=size;

 if(h.x<0||h.y<0||h.x>=c.width||h.y>=c.height){
  gameOver();
  return;
 }

 snake.unshift(h);

 if(h.x==food.x && h.y==food.y){
  score++;
  document.getElementById("score").innerText="ƒêi·ªÉm: "+score;

  let eat=document.getElementById("eat");
  eat.currentTime=0;
  eat.play();

  food=randomFood();
 }else snake.pop();

 ctx.clearRect(0,0,c.width,c.height);

 ctx.fillStyle="red";
 ctx.fillRect(food.x,food.y,size,size);

 ctx.fillStyle="lime";
 snake.forEach(p=>ctx.fillRect(p.x,p.y,size,size));
}

function gameOver(){
 clearInterval(game);
 game=null;

 document.getElementById("bgm").pause();

 let over=document.getElementById("over");
 over.currentTime=0;
 over.play();

 document.getElementById("gameOver").style.display="flex";
}

function restart(){
 snake=[{x:100,y:100}];
 food=randomFood();
 dir=null;
 score=0;
 document.getElementById("score").innerText="ƒêi·ªÉm: 0";
 document.getElementById("gameOver").style.display="none";
}
</script>
</body>
</html>
